version: "1.0"
generics:
  - name: Device
    namespace: Network
    default_filter: hostname__value
    attributes:
      - name: hostname
        kind: Text
        unique: true
      - name: model
        kind: Text
    relationships:
      - name: interfaces
        cardinality: many
        peer: NetworkInterface
        kind: Component
nodes:
  - name: Interface
    namespace: Network
    attributes:
      - name: name
        kind: Text
      - name: description
        kind: Text
        optional: true
    relationships:
      - name: device
        cardinality: one
        peer: NetworkDevice
        optional: false
        kind: Parent
  - name: Bay
    namespace: Network
    attributes:
      - name: name
        kind: Text
      - name: location
        kind: Text
  - name: VirtualDevice
    namespace: Network
    uniqueness_constraints:
      - ["bay", "name__value"]
    inherit_from:
      - NetworkDevice
    attributes:
      - name: hypervisor
        kind: text
  - name: PhysicalDevice
    namespace: Network
    uniqueness_constraints:
      - ["bay", "name__value"]
    inherit_from:
      - NetworkDevice
    attributes:
      - name: age
        kind: number
